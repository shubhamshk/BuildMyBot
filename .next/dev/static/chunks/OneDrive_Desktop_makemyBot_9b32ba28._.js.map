{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/OneDrive/Desktop/makemyBot/lib/supabase/client.ts"],"sourcesContent":["\r\nimport { createBrowserClient } from '@supabase/ssr'\r\n\r\nexport const createClient = () =>\r\n    createBrowserClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n    )\r\n"],"names":[],"mappings":";;;;AAKQ;AAJR;AAAA;;AAEO,MAAM,eAAe,IACxB,IAAA,wOAAmB"}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/OneDrive/Desktop/makemyBot/lib/supabase/characters.ts"],"sourcesContent":["import { createClient } from './client';\r\n\r\nexport interface SavedCharacter {\r\n  id: string;\r\n  user_id: string;\r\n  name: string;\r\n  age: string;\r\n  gender: string;\r\n  setting: string;\r\n  relationship: string;\r\n  personality_warmth: number;\r\n  personality_confidence: number;\r\n  personality_calmness: number;\r\n  personality_reserve: number;\r\n  backstory_style?: string;\r\n  speech_tone?: string;\r\n  speech_vocabulary?: string;\r\n  speech_patterns?: string;\r\n  content_rating?: string;\r\n  topics?: string;\r\n  tone?: string;\r\n  generated_personality?: string;\r\n  generated_backstory?: string;\r\n  generated_traits?: string;\r\n  generated_speech?: string;\r\n  generated_initial_message?: string;\r\n  generated_scenario?: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface CharacterInput {\r\n  name: string;\r\n  age: string;\r\n  gender: string;\r\n  setting: string;\r\n  relationship: string;\r\n  personality: {\r\n    warmth: number;\r\n    confidence: number;\r\n    calmness: number;\r\n    reserve: number;\r\n  };\r\n  backstoryStyle?: string;\r\n  speechRules?: {\r\n    tone?: string;\r\n    vocabulary?: string;\r\n    patterns?: string;\r\n  };\r\n  boundaries?: {\r\n    contentRating?: string;\r\n    topics?: string;\r\n    tone?: string;\r\n  };\r\n  generatedContent?: {\r\n    personality?: string;\r\n    backstory?: string;\r\n    traits?: string;\r\n    speech?: string;\r\n    initialMessage?: string;\r\n    scenario?: string;\r\n  };\r\n}\r\n\r\n// Save a character to Supabase\r\nexport async function saveCharacter(character: CharacterInput): Promise<{ data: SavedCharacter | null; error: string | null }> {\r\n  const supabase = createClient();\r\n  \r\n  // Get current user\r\n  const { data: { user }, error: userError } = await supabase.auth.getUser();\r\n  \r\n  if (userError || !user) {\r\n    return { data: null, error: 'User not authenticated' };\r\n  }\r\n\r\n  const characterData = {\r\n    user_id: user.id,\r\n    name: character.name,\r\n    age: character.age,\r\n    gender: character.gender,\r\n    setting: character.setting,\r\n    relationship: character.relationship,\r\n    personality_warmth: character.personality.warmth,\r\n    personality_confidence: character.personality.confidence,\r\n    personality_calmness: character.personality.calmness,\r\n    personality_reserve: character.personality.reserve,\r\n    backstory_style: character.backstoryStyle || null,\r\n    speech_tone: character.speechRules?.tone || null,\r\n    speech_vocabulary: character.speechRules?.vocabulary || null,\r\n    speech_patterns: character.speechRules?.patterns || null,\r\n    content_rating: character.boundaries?.contentRating || null,\r\n    topics: character.boundaries?.topics || null,\r\n    tone: character.boundaries?.tone || null,\r\n    generated_personality: character.generatedContent?.personality || null,\r\n    generated_backstory: character.generatedContent?.backstory || null,\r\n    generated_traits: character.generatedContent?.traits || null,\r\n    generated_speech: character.generatedContent?.speech || null,\r\n    generated_initial_message: character.generatedContent?.initialMessage || null,\r\n    generated_scenario: character.generatedContent?.scenario || null,\r\n    updated_at: new Date().toISOString(),\r\n  };\r\n\r\n  const { data, error } = await supabase\r\n    .from('characters')\r\n    .insert(characterData)\r\n    .select()\r\n    .single();\r\n\r\n  if (error) {\r\n    console.error('Error saving character:', error);\r\n    return { data: null, error: error.message };\r\n  }\r\n\r\n  return { data, error: null };\r\n}\r\n\r\n// Get all characters for the current user\r\nexport async function getUserCharacters(): Promise<{ data: SavedCharacter[]; error: string | null }> {\r\n  const supabase = createClient();\r\n  \r\n  const { data: { user }, error: userError } = await supabase.auth.getUser();\r\n  \r\n  if (userError || !user) {\r\n    return { data: [], error: 'User not authenticated' };\r\n  }\r\n\r\n  const { data, error } = await supabase\r\n    .from('characters')\r\n    .select('*')\r\n    .eq('user_id', user.id)\r\n    .order('created_at', { ascending: false });\r\n\r\n  if (error) {\r\n    console.error('Error fetching characters:', error);\r\n    return { data: [], error: error.message };\r\n  }\r\n\r\n  return { data: data || [], error: null };\r\n}\r\n\r\n// Get a single character by ID\r\nexport async function getCharacterById(characterId: string): Promise<{ data: SavedCharacter | null; error: string | null }> {\r\n  const supabase = createClient();\r\n  \r\n  const { data: { user }, error: userError } = await supabase.auth.getUser();\r\n  \r\n  if (userError || !user) {\r\n    return { data: null, error: 'User not authenticated' };\r\n  }\r\n\r\n  const { data, error } = await supabase\r\n    .from('characters')\r\n    .select('*')\r\n    .eq('id', characterId)\r\n    .eq('user_id', user.id)\r\n    .single();\r\n\r\n  if (error) {\r\n    console.error('Error fetching character:', error);\r\n    return { data: null, error: error.message };\r\n  }\r\n\r\n  return { data, error: null };\r\n}\r\n\r\n// Update a character\r\nexport async function updateCharacterById(\r\n  characterId: string,\r\n  updates: Partial<CharacterInput>\r\n): Promise<{ data: SavedCharacter | null; error: string | null }> {\r\n  const supabase = createClient();\r\n  \r\n  const { data: { user }, error: userError } = await supabase.auth.getUser();\r\n  \r\n  if (userError || !user) {\r\n    return { data: null, error: 'User not authenticated' };\r\n  }\r\n\r\n  const updateData: Record<string, unknown> = {\r\n    updated_at: new Date().toISOString(),\r\n  };\r\n\r\n  if (updates.name) updateData.name = updates.name;\r\n  if (updates.age) updateData.age = updates.age;\r\n  if (updates.gender) updateData.gender = updates.gender;\r\n  if (updates.setting) updateData.setting = updates.setting;\r\n  if (updates.relationship) updateData.relationship = updates.relationship;\r\n  if (updates.personality) {\r\n    updateData.personality_warmth = updates.personality.warmth;\r\n    updateData.personality_confidence = updates.personality.confidence;\r\n    updateData.personality_calmness = updates.personality.calmness;\r\n    updateData.personality_reserve = updates.personality.reserve;\r\n  }\r\n  if (updates.backstoryStyle) updateData.backstory_style = updates.backstoryStyle;\r\n  if (updates.speechRules) {\r\n    updateData.speech_tone = updates.speechRules.tone;\r\n    updateData.speech_vocabulary = updates.speechRules.vocabulary;\r\n    updateData.speech_patterns = updates.speechRules.patterns;\r\n  }\r\n  if (updates.boundaries) {\r\n    updateData.content_rating = updates.boundaries.contentRating;\r\n    updateData.topics = updates.boundaries.topics;\r\n    updateData.tone = updates.boundaries.tone;\r\n  }\r\n  if (updates.generatedContent) {\r\n    updateData.generated_personality = updates.generatedContent.personality;\r\n    updateData.generated_backstory = updates.generatedContent.backstory;\r\n    updateData.generated_traits = updates.generatedContent.traits;\r\n    updateData.generated_speech = updates.generatedContent.speech;\r\n    updateData.generated_initial_message = updates.generatedContent.initialMessage;\r\n    updateData.generated_scenario = updates.generatedContent.scenario;\r\n  }\r\n\r\n  const { data, error } = await supabase\r\n    .from('characters')\r\n    .update(updateData)\r\n    .eq('id', characterId)\r\n    .eq('user_id', user.id)\r\n    .select()\r\n    .single();\r\n\r\n  if (error) {\r\n    console.error('Error updating character:', error);\r\n    return { data: null, error: error.message };\r\n  }\r\n\r\n  return { data, error: null };\r\n}\r\n\r\n// Delete a character\r\nexport async function deleteCharacter(characterId: string): Promise<{ error: string | null }> {\r\n  const supabase = createClient();\r\n  \r\n  const { data: { user }, error: userError } = await supabase.auth.getUser();\r\n  \r\n  if (userError || !user) {\r\n    return { error: 'User not authenticated' };\r\n  }\r\n\r\n  const { error } = await supabase\r\n    .from('characters')\r\n    .delete()\r\n    .eq('id', characterId)\r\n    .eq('user_id', user.id);\r\n\r\n  if (error) {\r\n    console.error('Error deleting character:', error);\r\n    return { error: error.message };\r\n  }\r\n\r\n  return { error: null };\r\n}\r\n\r\n// Get current user\r\nexport async function getCurrentUser() {\r\n  const supabase = createClient();\r\n  const { data: { user }, error } = await supabase.auth.getUser();\r\n  \r\n  if (error) {\r\n    return { user: null, error: error.message };\r\n  }\r\n  \r\n  return { user, error: null };\r\n}\r\n\r\n// Convert SavedCharacter to CharacterInput format for use in context\r\nexport function savedCharacterToInput(saved: SavedCharacter): CharacterInput {\r\n  return {\r\n    name: saved.name,\r\n    age: saved.age,\r\n    gender: saved.gender,\r\n    setting: saved.setting,\r\n    relationship: saved.relationship,\r\n    personality: {\r\n      warmth: saved.personality_warmth,\r\n      confidence: saved.personality_confidence,\r\n      calmness: saved.personality_calmness,\r\n      reserve: saved.personality_reserve,\r\n    },\r\n    backstoryStyle: saved.backstory_style || undefined,\r\n    speechRules: {\r\n      tone: saved.speech_tone || undefined,\r\n      vocabulary: saved.speech_vocabulary || undefined,\r\n      patterns: saved.speech_patterns || undefined,\r\n    },\r\n    boundaries: {\r\n      contentRating: saved.content_rating || undefined,\r\n      topics: saved.topics || undefined,\r\n      tone: saved.tone || undefined,\r\n    },\r\n    generatedContent: {\r\n      personality: saved.generated_personality || undefined,\r\n      backstory: saved.generated_backstory || undefined,\r\n      traits: saved.generated_traits || undefined,\r\n      speech: saved.generated_speech || undefined,\r\n      initialMessage: saved.generated_initial_message || undefined,\r\n      scenario: saved.generated_scenario || undefined,\r\n    },\r\n  };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/OneDrive/Desktop/makemyBot/components/terminal-output.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Copy, CheckCircle2, RefreshCw, Loader2, Terminal } from \"lucide-react\";\r\n\r\ninterface TerminalOutputProps {\r\n  title: string;\r\n  content: string;\r\n  loading?: boolean;\r\n  error?: string | null;\r\n  onRewrite?: () => void;\r\n  isGenerating?: boolean;\r\n}\r\n\r\n/**\r\n * Render markdown-style text with bold and italic formatting\r\n */\r\nfunction renderFormattedText(text: string): React.ReactNode[] {\r\n  if (!text) return [];\r\n\r\n  const parts: React.ReactNode[] = [];\r\n  let key = 0;\r\n\r\n  // Split by paragraphs first\r\n  const paragraphs = text.split(/\\n\\n+/);\r\n\r\n  paragraphs.forEach((paragraph, pIndex) => {\r\n    if (pIndex > 0) {\r\n      parts.push(<div key={key++} className=\"h-4\" />); // Paragraph spacing\r\n    }\r\n\r\n    // Process inline formatting within each paragraph\r\n    // Handle **bold** and *italic* patterns\r\n    const lines = paragraph.split(/\\n/);\r\n    \r\n    lines.forEach((line, lIndex) => {\r\n      if (lIndex > 0) {\r\n        parts.push(<br key={key++} />);\r\n      }\r\n\r\n      // Regex to match **bold** and *italic* patterns\r\n      // Order matters: check for ** first, then *\r\n      const regex = /(\\*\\*[^*]+\\*\\*)|(\\*[^*]+\\*)/g;\r\n      let lastIndex = 0;\r\n      let match;\r\n\r\n      const lineContent: React.ReactNode[] = [];\r\n      let lineKey = 0;\r\n\r\n      while ((match = regex.exec(line)) !== null) {\r\n        // Add text before the match\r\n        if (match.index > lastIndex) {\r\n          lineContent.push(\r\n            <span key={lineKey++} className=\"text-gray-300\">\r\n              {line.slice(lastIndex, match.index)}\r\n            </span>\r\n          );\r\n        }\r\n\r\n        const matchText = match[0];\r\n        \r\n        if (matchText.startsWith(\"**\") && matchText.endsWith(\"**\")) {\r\n          // Bold text (dialogue)\r\n          const innerText = matchText.slice(2, -2);\r\n          lineContent.push(\r\n            <span key={lineKey++} className=\"font-bold text-white\">\r\n              {innerText}\r\n            </span>\r\n          );\r\n        } else if (matchText.startsWith(\"*\") && matchText.endsWith(\"*\")) {\r\n          // Italic text (descriptions)\r\n          const innerText = matchText.slice(1, -1);\r\n          lineContent.push(\r\n            <span key={lineKey++} className=\"italic text-gray-400\">\r\n              {innerText}\r\n            </span>\r\n          );\r\n        }\r\n\r\n        lastIndex = match.index + matchText.length;\r\n      }\r\n\r\n      // Add remaining text after last match\r\n      if (lastIndex < line.length) {\r\n        lineContent.push(\r\n          <span key={lineKey++} className=\"text-gray-300\">\r\n            {line.slice(lastIndex)}\r\n          </span>\r\n        );\r\n      }\r\n\r\n      // If no formatting was found, just add the plain text\r\n      if (lineContent.length === 0) {\r\n        lineContent.push(\r\n          <span key={lineKey++} className=\"text-gray-300\">\r\n            {line}\r\n          </span>\r\n        );\r\n      }\r\n\r\n      parts.push(<span key={key++}>{lineContent}</span>);\r\n    });\r\n  });\r\n\r\n  return parts;\r\n}\r\n\r\nexport function TerminalOutput({\r\n  title,\r\n  content,\r\n  loading = false,\r\n  error = null,\r\n  onRewrite,\r\n  isGenerating = false,\r\n}: TerminalOutputProps) {\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  const copyToClipboard = () => {\r\n    navigator.clipboard.writeText(content);\r\n    setCopied(true);\r\n    setTimeout(() => setCopied(false), 2000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"rounded-2xl overflow-hidden border border-border bg-[#1a1a2e]\">\r\n      {/* Terminal Header */}\r\n      <div className=\"flex items-center justify-between px-4 py-3 bg-[#16162a] border-b border-border\">\r\n        <div className=\"flex items-center gap-3\">\r\n          {/* Traffic lights */}\r\n          <div className=\"flex items-center gap-1.5\">\r\n            <div className=\"w-3 h-3 rounded-full bg-red-500/80\" />\r\n            <div className=\"w-3 h-3 rounded-full bg-yellow-500/80\" />\r\n            <div className=\"w-3 h-3 rounded-full bg-green-500/80\" />\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Terminal className=\"w-4 h-4 text-violet-400\" />\r\n            <span className=\"text-sm font-medium text-gray-300\">{title}</span>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Actions */}\r\n        <div className=\"flex items-center gap-2\">\r\n          {onRewrite && (\r\n            <button\r\n              onClick={onRewrite}\r\n              disabled={loading || isGenerating}\r\n              className=\"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 transition-colors flex items-center gap-2 text-xs text-gray-400 hover:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {loading ? (\r\n                <Loader2 className=\"w-3.5 h-3.5 animate-spin\" />\r\n              ) : (\r\n                <RefreshCw className=\"w-3.5 h-3.5\" />\r\n              )}\r\n              Regenerate\r\n            </button>\r\n          )}\r\n          <button\r\n            onClick={copyToClipboard}\r\n            disabled={!content || loading}\r\n            className=\"px-3 py-1.5 rounded-lg bg-violet-500/20 hover:bg-violet-500/30 transition-colors flex items-center gap-2 text-xs text-violet-400 hover:text-violet-300 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {copied ? (\r\n              <>\r\n                <CheckCircle2 className=\"w-3.5 h-3.5\" />\r\n                Copied!\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Copy className=\"w-3.5 h-3.5\" />\r\n                Copy\r\n              </>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Terminal Content */}\r\n      <div className=\"p-6 min-h-[200px] max-h-[600px] overflow-y-auto font-mono text-sm leading-relaxed\">\r\n        {loading ? (\r\n          <div className=\"flex items-center justify-center py-12\">\r\n            <Loader2 className=\"w-6 h-6 animate-spin text-violet-400\" />\r\n            <span className=\"ml-3 text-gray-400\">Generating...</span>\r\n          </div>\r\n        ) : error ? (\r\n          <div className=\"py-4 px-4 rounded-xl bg-red-500/10 border border-red-500/30\">\r\n            <p className=\"text-sm text-red-400 font-medium mb-1\">Generation Failed</p>\r\n            <p className=\"text-sm text-red-400/80\">{error}</p>\r\n            {onRewrite && (\r\n              <button\r\n                onClick={onRewrite}\r\n                className=\"mt-2 text-xs text-red-400 hover:text-red-300 underline\"\r\n              >\r\n                Try again\r\n              </button>\r\n            )}\r\n          </div>\r\n        ) : content ? (\r\n          <div className=\"space-y-0\">\r\n            {renderFormattedText(content)}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-gray-500 italic\">\r\n            Content will be generated here...\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 630, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/shubh/OneDrive/Desktop/makemyBot/app/profile/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  ArrowLeft,\r\n  Plus,\r\n  Trash2,\r\n  Eye,\r\n  Loader2,\r\n  User,\r\n  LogOut,\r\n  Sparkles,\r\n  Search,\r\n  Download,\r\n  Copy,\r\n  Check,\r\n  Calendar,\r\n  Users,\r\n  TrendingUp,\r\n  Filter,\r\n  Grid3X3,\r\n  List,\r\n  Star,\r\n  Heart,\r\n  Share2,\r\n  MoreVertical,\r\n  Clock,\r\n  Zap,\r\n  Camera,\r\n} from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useState, useEffect, useMemo, useRef } from \"react\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\nimport {\r\n  getUserCharacters,\r\n  deleteCharacter,\r\n  SavedCharacter,\r\n} from \"@/lib/supabase/characters\";\r\nimport { TerminalOutput } from \"@/components/terminal-output\";\r\n\r\ntype ViewMode = \"grid\" | \"list\";\r\ntype SortBy = \"newest\" | \"oldest\" | \"name\";\r\n\r\nexport default function ProfilePage() {\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(true);\r\n  const [user, setUser] = useState<{ id?: string; email?: string; user_metadata?: { full_name?: string; avatar_url?: string; custom_avatar?: string }; created_at?: string } | null>(null);\r\n  const [characters, setCharacters] = useState<SavedCharacter[]>([]);\r\n  const [selectedCharacter, setSelectedCharacter] = useState<SavedCharacter | null>(null);\r\n  const [deleteConfirm, setDeleteConfirm] = useState<string | null>(null);\r\n  const [deletingId, setDeletingId] = useState<string | null>(null);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [viewMode, setViewMode] = useState<ViewMode>(\"list\");\r\n  const [sortBy, setSortBy] = useState<SortBy>(\"newest\");\r\n  const [copied, setCopied] = useState<string | null>(null);\r\n  const [favorites, setFavorites] = useState<Set<string>>(new Set());\r\n  const [uploadingPhoto, setUploadingPhoto] = useState(false);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const supabase = createClient();\r\n\r\n  useEffect(() => {\r\n    loadUserAndCharacters();\r\n    // Load favorites from localStorage\r\n    const savedFavorites = localStorage.getItem(\"favoriteCharacters\");\r\n    if (savedFavorites) {\r\n      setFavorites(new Set(JSON.parse(savedFavorites)));\r\n    }\r\n  }, []);\r\n\r\n  // Save favorites to localStorage\r\n  useEffect(() => {\r\n    localStorage.setItem(\"favoriteCharacters\", JSON.stringify([...favorites]));\r\n  }, [favorites]);\r\n\r\n  // Handle profile photo upload\r\n  const handlePhotoUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (!file || !user?.id) return;\r\n\r\n    // Validate file type\r\n    if (!file.type.startsWith(\"image/\")) {\r\n      alert(\"Please select an image file\");\r\n      return;\r\n    }\r\n\r\n    // Validate file size (max 2MB)\r\n    if (file.size > 2 * 1024 * 1024) {\r\n      alert(\"Image must be less than 2MB\");\r\n      return;\r\n    }\r\n\r\n    setUploadingPhoto(true);\r\n\r\n    try {\r\n      // Upload to Supabase Storage\r\n      const fileExt = file.name.split(\".\").pop();\r\n      const fileName = `${user.id}-${Date.now()}.${fileExt}`;\r\n      const filePath = `avatars/${fileName}`;\r\n\r\n      const { error: uploadError } = await supabase.storage\r\n        .from(\"avatars\")\r\n        .upload(filePath, file, { upsert: true });\r\n\r\n      if (uploadError) {\r\n        // If storage bucket doesn't exist, use base64 as fallback\r\n        console.warn(\"Storage upload failed, using metadata fallback:\", uploadError);\r\n        \r\n        // Convert to base64 for metadata storage\r\n        const reader = new FileReader();\r\n        reader.onloadend = async () => {\r\n          const base64 = reader.result as string;\r\n          \r\n          const { error: updateError } = await supabase.auth.updateUser({\r\n            data: { custom_avatar: base64 }\r\n          });\r\n\r\n          if (updateError) {\r\n            console.error(\"Failed to update avatar:\", updateError);\r\n            alert(\"Failed to upload photo. Please try again.\");\r\n          } else {\r\n            // Refresh user data\r\n            const { data: { user: updatedUser } } = await supabase.auth.getUser();\r\n            setUser(updatedUser);\r\n          }\r\n          setUploadingPhoto(false);\r\n        };\r\n        reader.readAsDataURL(file);\r\n        return;\r\n      }\r\n\r\n      // Get public URL\r\n      const { data: { publicUrl } } = supabase.storage\r\n        .from(\"avatars\")\r\n        .getPublicUrl(filePath);\r\n\r\n      // Update user metadata with new avatar URL\r\n      const { error: updateError } = await supabase.auth.updateUser({\r\n        data: { custom_avatar: publicUrl }\r\n      });\r\n\r\n      if (updateError) {\r\n        console.error(\"Failed to update user metadata:\", updateError);\r\n        alert(\"Failed to save photo. Please try again.\");\r\n      } else {\r\n        // Refresh user data\r\n        const { data: { user: updatedUser } } = await supabase.auth.getUser();\r\n        setUser(updatedUser);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Photo upload error:\", error);\r\n      alert(\"Failed to upload photo. Please try again.\");\r\n    } finally {\r\n      setUploadingPhoto(false);\r\n    }\r\n  };\r\n\r\n  // Get the avatar URL (custom or from OAuth provider)\r\n  const getAvatarUrl = () => {\r\n    return user?.user_metadata?.custom_avatar || user?.user_metadata?.avatar_url;\r\n  };\r\n\r\n  const loadUserAndCharacters = async () => {\r\n    setLoading(true);\r\n    \r\n    const { data: { user } } = await supabase.auth.getUser();\r\n    \r\n    if (!user) {\r\n      router.push(\"/auth/signin\");\r\n      return;\r\n    }\r\n    \r\n    setUser(user);\r\n    \r\n    const { data: chars, error } = await getUserCharacters();\r\n    if (!error) {\r\n      setCharacters(chars);\r\n    }\r\n    \r\n    setLoading(false);\r\n  };\r\n\r\n  const handleSignOut = async () => {\r\n    await supabase.auth.signOut();\r\n    router.push(\"/\");\r\n  };\r\n\r\n  const handleDeleteCharacter = async (characterId: string) => {\r\n    if (deleteConfirm !== characterId) {\r\n      setDeleteConfirm(characterId);\r\n      setTimeout(() => setDeleteConfirm(null), 3000);\r\n      return;\r\n    }\r\n\r\n    setDeletingId(characterId);\r\n    const { error } = await deleteCharacter(characterId);\r\n    \r\n    if (!error) {\r\n      setCharacters((prev) => prev.filter((c) => c.id !== characterId));\r\n      if (selectedCharacter?.id === characterId) {\r\n        setSelectedCharacter(null);\r\n      }\r\n    }\r\n    \r\n    setDeletingId(null);\r\n    setDeleteConfirm(null);\r\n  };\r\n\r\n  const toggleFavorite = (characterId: string) => {\r\n    setFavorites((prev) => {\r\n      const newFavorites = new Set(prev);\r\n      if (newFavorites.has(characterId)) {\r\n        newFavorites.delete(characterId);\r\n      } else {\r\n        newFavorites.add(characterId);\r\n      }\r\n      return newFavorites;\r\n    });\r\n  };\r\n\r\n  const handleCopy = (text: string, id: string) => {\r\n    navigator.clipboard.writeText(text);\r\n    setCopied(id);\r\n    setTimeout(() => setCopied(null), 2000);\r\n  };\r\n\r\n  const handleExportCharacter = (char: SavedCharacter) => {\r\n    const exportData = {\r\n      name: char.name,\r\n      age: char.age,\r\n      gender: char.gender,\r\n      setting: char.setting,\r\n      relationship: char.relationship,\r\n      personality: {\r\n        warmth: char.personality_warmth,\r\n        confidence: char.personality_confidence,\r\n        calmness: char.personality_calmness,\r\n        reserve: char.personality_reserve,\r\n      },\r\n      generatedContent: {\r\n        personality: char.generated_personality,\r\n        scenario: char.generated_scenario,\r\n      },\r\n      createdAt: char.created_at,\r\n    };\r\n    \r\n    const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: \"application/json\" });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement(\"a\");\r\n    a.href = url;\r\n    a.download = `${char.name.replace(/\\s+/g, \"_\")}_character.json`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n      year: \"numeric\",\r\n    });\r\n  };\r\n\r\n  const formatRelativeTime = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffMs = now.getTime() - date.getTime();\r\n    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\r\n    \r\n    if (diffDays === 0) return \"Today\";\r\n    if (diffDays === 1) return \"Yesterday\";\r\n    if (diffDays < 7) return `${diffDays} days ago`;\r\n    if (diffDays < 30) return `${Math.floor(diffDays / 7)} weeks ago`;\r\n    return formatDate(dateString);\r\n  };\r\n\r\n  // Filter and sort characters\r\n  const filteredCharacters = useMemo(() => {\r\n    let result = [...characters];\r\n    \r\n    // Filter by search\r\n    if (searchQuery) {\r\n      const query = searchQuery.toLowerCase();\r\n      result = result.filter(\r\n        (c) =>\r\n          c.name.toLowerCase().includes(query) ||\r\n          c.setting.toLowerCase().includes(query) ||\r\n          c.gender.toLowerCase().includes(query)\r\n      );\r\n    }\r\n    \r\n    // Sort\r\n    switch (sortBy) {\r\n      case \"newest\":\r\n        result.sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\r\n        break;\r\n      case \"oldest\":\r\n        result.sort((a, b) => new Date(a.created_at).getTime() - new Date(b.created_at).getTime());\r\n        break;\r\n      case \"name\":\r\n        result.sort((a, b) => a.name.localeCompare(b.name));\r\n        break;\r\n    }\r\n    \r\n    // Favorites first\r\n    result.sort((a, b) => {\r\n      const aFav = favorites.has(a.id) ? 1 : 0;\r\n      const bFav = favorites.has(b.id) ? 1 : 0;\r\n      return bFav - aFav;\r\n    });\r\n    \r\n    return result;\r\n  }, [characters, searchQuery, sortBy, favorites]);\r\n\r\n  // Stats\r\n  const stats = useMemo(() => ({\r\n    total: characters.length,\r\n    thisWeek: characters.filter((c) => {\r\n      const date = new Date(c.created_at);\r\n      const weekAgo = new Date();\r\n      weekAgo.setDate(weekAgo.getDate() - 7);\r\n      return date > weekAgo;\r\n    }).length,\r\n    favorites: favorites.size,\r\n  }), [characters, favorites]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <Loader2 className=\"w-10 h-10 animate-spin text-violet-400 mx-auto mb-4\" />\r\n          <p className=\"text-muted-foreground\">Loading your characters...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background\">\r\n      {/* Animated Background */}\r\n      <div className=\"fixed inset-0 -z-10 overflow-hidden\">\r\n        <motion.div\r\n          className=\"absolute top-0 left-1/4 w-96 h-96 bg-violet-500/5 rounded-full blur-3xl\"\r\n          animate={{\r\n            x: [0, 50, 0],\r\n            y: [0, 30, 0],\r\n          }}\r\n          transition={{ duration: 20, repeat: Infinity, ease: \"linear\" }}\r\n        />\r\n        <motion.div\r\n          className=\"absolute bottom-0 right-1/4 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl\"\r\n          animate={{\r\n            x: [0, -50, 0],\r\n            y: [0, -30, 0],\r\n          }}\r\n          transition={{ duration: 15, repeat: Infinity, ease: \"linear\" }}\r\n        />\r\n      </div>\r\n\r\n      {/* Header */}\r\n      <header className=\"sticky top-0 z-50 glass border-b border-border backdrop-blur-xl\">\r\n        <div className=\"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between\">\r\n          <Link\r\n            href=\"/\"\r\n            className=\"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors group\"\r\n          >\r\n            <ArrowLeft className=\"w-5 h-5 group-hover:-translate-x-1 transition-transform\" />\r\n            <span className=\"hidden sm:inline\">Back Home</span>\r\n          </Link>\r\n          \r\n          <div className=\"flex items-center gap-2\">\r\n            <Sparkles className=\"w-5 h-5 text-violet-400\" />\r\n            <h1 className=\"text-xl font-bold bg-gradient-to-r from-violet-400 to-blue-400 bg-clip-text text-transparent\">\r\n              My Characters\r\n            </h1>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center gap-3\">\r\n            {getAvatarUrl() ? (\r\n              <img\r\n                src={getAvatarUrl()}\r\n                alt=\"Profile\"\r\n                className=\"w-9 h-9 rounded-full ring-2 ring-violet-500/30 object-cover\"\r\n              />\r\n            ) : (\r\n              <div className=\"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-blue-500 flex items-center justify-center\">\r\n                <User className=\"w-5 h-5 text-white\" />\r\n              </div>\r\n            )}\r\n            <button\r\n              onClick={handleSignOut}\r\n              className=\"p-2 rounded-lg hover:bg-white/5 text-muted-foreground hover:text-foreground transition-colors\"\r\n              title=\"Sign out\"\r\n            >\r\n              <LogOut className=\"w-5 h-5\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 py-8\">\r\n        {/* User Profile Card */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"relative overflow-hidden rounded-3xl mb-8\"\r\n        >\r\n          {/* Gradient Background */}\r\n          <div className=\"absolute inset-0 bg-gradient-to-br from-violet-500/20 via-purple-500/10 to-blue-500/20\" />\r\n          <div className=\"absolute inset-0 glass\" />\r\n          \r\n          <div className=\"relative p-8\">\r\n            <div className=\"flex flex-col md:flex-row md:items-center gap-6\">\r\n              {/* Avatar with Upload */}\r\n              <div className=\"relative group\">\r\n                {getAvatarUrl() ? (\r\n                  <img\r\n                    src={getAvatarUrl()}\r\n                    alt=\"Profile\"\r\n                    className=\"w-24 h-24 rounded-2xl ring-4 ring-white/10 shadow-2xl object-cover\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"w-24 h-24 rounded-2xl bg-gradient-to-br from-violet-500 to-blue-500 flex items-center justify-center ring-4 ring-white/10 shadow-2xl\">\r\n                    <User className=\"w-12 h-12 text-white\" />\r\n                  </div>\r\n                )}\r\n                \r\n                {/* Upload Button Overlay */}\r\n                <button\r\n                  onClick={() => fileInputRef.current?.click()}\r\n                  disabled={uploadingPhoto}\r\n                  className=\"absolute inset-0 rounded-2xl bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer\"\r\n                >\r\n                  {uploadingPhoto ? (\r\n                    <Loader2 className=\"w-8 h-8 text-white animate-spin\" />\r\n                  ) : (\r\n                    <Camera className=\"w-8 h-8 text-white\" />\r\n                  )}\r\n                </button>\r\n                \r\n                {/* Hidden File Input */}\r\n                <input\r\n                  ref={fileInputRef}\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={handlePhotoUpload}\r\n                  className=\"hidden\"\r\n                />\r\n                \r\n                {/* Verified Badge */}\r\n                <div className=\"absolute -bottom-2 -right-2 w-8 h-8 rounded-lg bg-emerald-500 flex items-center justify-center ring-4 ring-background\">\r\n                  <Check className=\"w-4 h-4 text-white\" />\r\n                </div>\r\n              </div>\r\n\r\n              {/* User Info */}\r\n              <div className=\"flex-1\">\r\n                <h2 className=\"text-2xl font-bold text-foreground mb-1\">\r\n                  {user?.user_metadata?.full_name || \"Character Creator\"}\r\n                </h2>\r\n                <p className=\"text-muted-foreground mb-3\">{user?.email}</p>\r\n                <div className=\"flex flex-wrap gap-3\">\r\n                  <span className=\"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-violet-500/20 text-violet-400 text-sm font-medium\">\r\n                    <Zap className=\"w-3.5 h-3.5\" />\r\n                    Pro Creator\r\n                  </span>\r\n                  <span className=\"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-white/10 text-muted-foreground text-sm\">\r\n                    <Calendar className=\"w-3.5 h-3.5\" />\r\n                    Joined {user?.created_at ? formatDate(user.created_at) : \"Recently\"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Quick Actions */}\r\n              <div className=\"flex gap-3\">\r\n                <Link\r\n                  href=\"/wizard/basics\"\r\n                  className=\"px-6 py-3 rounded-xl bg-violet-500 hover:bg-violet-600 text-white font-semibold transition-colors flex items-center gap-2 shadow-lg shadow-violet-500/25\"\r\n                >\r\n                  <Plus className=\"w-5 h-5\" />\r\n                  New Character\r\n                </Link>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Stats Grid */}\r\n            <div className=\"grid grid-cols-3 gap-4 mt-8\">\r\n              <div className=\"glass rounded-2xl p-4 text-center\">\r\n                <div className=\"flex items-center justify-center gap-2 mb-2\">\r\n                  <Users className=\"w-5 h-5 text-violet-400\" />\r\n                </div>\r\n                <p className=\"text-3xl font-bold text-foreground\">{stats.total}</p>\r\n                <p className=\"text-xs text-muted-foreground\">Total Characters</p>\r\n              </div>\r\n              <div className=\"glass rounded-2xl p-4 text-center\">\r\n                <div className=\"flex items-center justify-center gap-2 mb-2\">\r\n                  <TrendingUp className=\"w-5 h-5 text-emerald-400\" />\r\n                </div>\r\n                <p className=\"text-3xl font-bold text-foreground\">{stats.thisWeek}</p>\r\n                <p className=\"text-xs text-muted-foreground\">This Week</p>\r\n              </div>\r\n              <div className=\"glass rounded-2xl p-4 text-center\">\r\n                <div className=\"flex items-center justify-center gap-2 mb-2\">\r\n                  <Heart className=\"w-5 h-5 text-pink-400\" />\r\n                </div>\r\n                <p className=\"text-3xl font-bold text-foreground\">{stats.favorites}</p>\r\n                <p className=\"text-xs text-muted-foreground\">Favorites</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/* Search & Filters */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ delay: 0.1 }}\r\n          className=\"glass rounded-2xl p-4 border border-border mb-6\"\r\n        >\r\n          <div className=\"flex flex-col md:flex-row gap-4\">\r\n            {/* Search */}\r\n            <div className=\"flex-1 relative\">\r\n              <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search characters by name, setting...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className=\"w-full pl-12 pr-4 py-3 rounded-xl bg-white/5 border border-border focus:border-violet-500 transition-all outline-none text-foreground placeholder:text-muted-foreground\"\r\n              />\r\n            </div>\r\n            \r\n            {/* Sort */}\r\n            <div className=\"flex items-center gap-3\">\r\n              <select\r\n                value={sortBy}\r\n                onChange={(e) => setSortBy(e.target.value as SortBy)}\r\n                className=\"px-4 py-3 rounded-xl bg-white/5 border border-border text-foreground outline-none cursor-pointer [&>option]:bg-zinc-900 [&>option]:text-white\"\r\n              >\r\n                <option value=\"newest\" className=\"bg-zinc-900 text-white\">Newest First</option>\r\n                <option value=\"oldest\" className=\"bg-zinc-900 text-white\">Oldest First</option>\r\n                <option value=\"name\" className=\"bg-zinc-900 text-white\">Name A-Z</option>\r\n              </select>\r\n              \r\n              {/* View Toggle */}\r\n              <div className=\"flex items-center gap-1 p-1 rounded-xl bg-white/5 border border-border\">\r\n                <button\r\n                  onClick={() => setViewMode(\"list\")}\r\n                  className={`p-2 rounded-lg transition-colors ${\r\n                    viewMode === \"list\" ? \"bg-violet-500 text-white\" : \"text-muted-foreground hover:text-foreground\"\r\n                  }`}\r\n                >\r\n                  <List className=\"w-5 h-5\" />\r\n                </button>\r\n                <button\r\n                  onClick={() => setViewMode(\"grid\")}\r\n                  className={`p-2 rounded-lg transition-colors ${\r\n                    viewMode === \"grid\" ? \"bg-violet-500 text-white\" : \"text-muted-foreground hover:text-foreground\"\r\n                  }`}\r\n                >\r\n                  <Grid3X3 className=\"w-5 h-5\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/* Main Content */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n          {/* Characters List */}\r\n          <div className={viewMode === \"grid\" ? \"lg:col-span-3\" : \"lg:col-span-1\"}>\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"text-lg font-semibold text-foreground\">\r\n                {filteredCharacters.length} Character{filteredCharacters.length !== 1 ? \"s\" : \"\"}\r\n              </h3>\r\n            </div>\r\n\r\n            {filteredCharacters.length === 0 ? (\r\n              <motion.div\r\n                initial={{ opacity: 0, scale: 0.95 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                className=\"glass rounded-3xl p-12 border border-border text-center\"\r\n              >\r\n                <div className=\"w-20 h-20 rounded-2xl bg-gradient-to-br from-violet-500/20 to-blue-500/20 flex items-center justify-center mx-auto mb-6\">\r\n                  <Sparkles className=\"w-10 h-10 text-violet-400\" />\r\n                </div>\r\n                <h4 className=\"text-xl font-semibold text-foreground mb-2\">\r\n                  {searchQuery ? \"No matches found\" : \"No characters yet\"}\r\n                </h4>\r\n                <p className=\"text-muted-foreground mb-6 max-w-sm mx-auto\">\r\n                  {searchQuery\r\n                    ? \"Try a different search term\"\r\n                    : \"Create your first AI character and it will appear here\"}\r\n                </p>\r\n                {!searchQuery && (\r\n                  <Link\r\n                    href=\"/wizard/basics\"\r\n                    className=\"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-violet-500 hover:bg-violet-600 text-white font-medium transition-colors\"\r\n                  >\r\n                    <Plus className=\"w-5 h-5\" />\r\n                    Create Your First Character\r\n                  </Link>\r\n                )}\r\n              </motion.div>\r\n            ) : viewMode === \"grid\" ? (\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\r\n                <AnimatePresence mode=\"popLayout\">\r\n                  {filteredCharacters.map((char, index) => (\r\n                    <motion.div\r\n                      key={char.id}\r\n                      layout\r\n                      initial={{ opacity: 0, scale: 0.9 }}\r\n                      animate={{ opacity: 1, scale: 1 }}\r\n                      exit={{ opacity: 0, scale: 0.9 }}\r\n                      transition={{ delay: index * 0.03 }}\r\n                      className={`glass rounded-2xl p-5 border cursor-pointer transition-all group hover:shadow-xl hover:shadow-violet-500/10 ${\r\n                        selectedCharacter?.id === char.id\r\n                          ? \"border-violet-500 bg-violet-500/10\"\r\n                          : \"border-border hover:border-violet-500/50\"\r\n                      }`}\r\n                      onClick={() => setSelectedCharacter(char)}\r\n                    >\r\n                      {/* Character Avatar */}\r\n                      <div className=\"relative mb-4\">\r\n                        <div className=\"w-16 h-16 rounded-xl bg-gradient-to-br from-violet-500/20 to-blue-500/20 flex items-center justify-center mx-auto\">\r\n                          <span className=\"text-3xl\"></span>\r\n                        </div>\r\n                        {favorites.has(char.id) && (\r\n                          <div className=\"absolute -top-1 -right-1 w-6 h-6 rounded-full bg-pink-500 flex items-center justify-center\">\r\n                            <Heart className=\"w-3 h-3 text-white fill-current\" />\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n\r\n                      <h4 className=\"font-semibold text-foreground text-center truncate mb-1\">\r\n                        {char.name}\r\n                      </h4>\r\n                      <p className=\"text-xs text-muted-foreground text-center mb-3\">\r\n                        {char.gender}  {char.age}\r\n                      </p>\r\n                      \r\n                      <div className=\"flex items-center justify-center gap-2\">\r\n                        <button\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            toggleFavorite(char.id);\r\n                          }}\r\n                          className={`p-2 rounded-lg transition-colors ${\r\n                            favorites.has(char.id)\r\n                              ? \"bg-pink-500/20 text-pink-400\"\r\n                              : \"hover:bg-white/10 text-muted-foreground\"\r\n                          }`}\r\n                        >\r\n                          <Heart className={`w-4 h-4 ${favorites.has(char.id) ? \"fill-current\" : \"\"}`} />\r\n                        </button>\r\n                        <button\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            handleExportCharacter(char);\r\n                          }}\r\n                          className=\"p-2 rounded-lg hover:bg-white/10 text-muted-foreground hover:text-violet-400 transition-colors\"\r\n                        >\r\n                          <Download className=\"w-4 h-4\" />\r\n                        </button>\r\n                        <button\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            handleDeleteCharacter(char.id);\r\n                          }}\r\n                          disabled={deletingId === char.id}\r\n                          className={`p-2 rounded-lg transition-colors ${\r\n                            deleteConfirm === char.id\r\n                              ? \"bg-red-500/20 text-red-400\"\r\n                              : \"hover:bg-white/10 text-muted-foreground hover:text-red-400\"\r\n                          }`}\r\n                        >\r\n                          {deletingId === char.id ? (\r\n                            <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                          ) : (\r\n                            <Trash2 className=\"w-4 h-4\" />\r\n                          )}\r\n                        </button>\r\n                      </div>\r\n                    </motion.div>\r\n                  ))}\r\n                </AnimatePresence>\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-3\">\r\n                <AnimatePresence mode=\"popLayout\">\r\n                  {filteredCharacters.map((char, index) => (\r\n                    <motion.div\r\n                      key={char.id}\r\n                      layout\r\n                      initial={{ opacity: 0, x: -20 }}\r\n                      animate={{ opacity: 1, x: 0 }}\r\n                      exit={{ opacity: 0, x: -20 }}\r\n                      transition={{ delay: index * 0.03 }}\r\n                      className={`glass rounded-xl p-4 border cursor-pointer transition-all group ${\r\n                        selectedCharacter?.id === char.id\r\n                          ? \"border-violet-500 bg-violet-500/10\"\r\n                          : \"border-border hover:border-violet-500/50\"\r\n                      }`}\r\n                      onClick={() => setSelectedCharacter(char)}\r\n                    >\r\n                      <div className=\"flex items-center gap-4\">\r\n                        {/* Avatar */}\r\n                        <div className=\"relative shrink-0\">\r\n                          <div className=\"w-12 h-12 rounded-xl bg-gradient-to-br from-violet-500/20 to-blue-500/20 flex items-center justify-center\">\r\n                            <span className=\"text-2xl\"></span>\r\n                          </div>\r\n                          {favorites.has(char.id) && (\r\n                            <div className=\"absolute -top-1 -right-1 w-4 h-4 rounded-full bg-pink-500 flex items-center justify-center\">\r\n                              <Heart className=\"w-2 h-2 text-white fill-current\" />\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n\r\n                        {/* Info */}\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <h4 className=\"font-semibold text-foreground truncate\">\r\n                            {char.name}\r\n                          </h4>\r\n                          <p className=\"text-xs text-muted-foreground truncate\">\r\n                            {char.gender}  {char.age}  {char.setting}\r\n                          </p>\r\n                          <div className=\"flex items-center gap-2 mt-1\">\r\n                            <Clock className=\"w-3 h-3 text-muted-foreground\" />\r\n                            <span className=\"text-xs text-violet-400\">\r\n                              {formatRelativeTime(char.created_at)}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Actions */}\r\n                        <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                          <button\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              toggleFavorite(char.id);\r\n                            }}\r\n                            className={`p-2 rounded-lg transition-colors ${\r\n                              favorites.has(char.id)\r\n                                ? \"bg-pink-500/20 text-pink-400\"\r\n                                : \"hover:bg-white/10 text-muted-foreground\"\r\n                            }`}\r\n                          >\r\n                            <Heart className={`w-4 h-4 ${favorites.has(char.id) ? \"fill-current\" : \"\"}`} />\r\n                          </button>\r\n                          <button\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              handleExportCharacter(char);\r\n                            }}\r\n                            className=\"p-2 rounded-lg hover:bg-white/10 text-muted-foreground hover:text-violet-400 transition-colors\"\r\n                          >\r\n                            <Download className=\"w-4 h-4\" />\r\n                          </button>\r\n                          <button\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              handleDeleteCharacter(char.id);\r\n                            }}\r\n                            disabled={deletingId === char.id}\r\n                            className={`p-2 rounded-lg transition-colors ${\r\n                              deleteConfirm === char.id\r\n                                ? \"bg-red-500/20 text-red-400\"\r\n                                : \"hover:bg-white/10 text-muted-foreground hover:text-red-400\"\r\n                            }`}\r\n                          >\r\n                            {deletingId === char.id ? (\r\n                              <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                            ) : (\r\n                              <Trash2 className=\"w-4 h-4\" />\r\n                            )}\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </motion.div>\r\n                  ))}\r\n                </AnimatePresence>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Character Details Panel */}\r\n          {viewMode === \"list\" && (\r\n            <div className=\"lg:col-span-2\">\r\n              <AnimatePresence mode=\"wait\">\r\n                {selectedCharacter ? (\r\n                  <motion.div\r\n                    key={selectedCharacter.id}\r\n                    initial={{ opacity: 0, y: 20 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    exit={{ opacity: 0, y: -20 }}\r\n                    className=\"space-y-6\"\r\n                  >\r\n                    {/* Character Header */}\r\n                    <div className=\"glass rounded-2xl p-6 border border-border relative overflow-hidden\">\r\n                      <div className=\"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-violet-500/10 to-transparent rounded-bl-full\" />\r\n                      \r\n                      <div className=\"flex items-start justify-between relative\">\r\n                        <div className=\"flex items-center gap-4\">\r\n                          <div className=\"w-20 h-20 rounded-2xl glass border-2 border-violet-500/30 flex items-center justify-center bg-gradient-to-br from-violet-500/20 to-blue-500/20\">\r\n                            <span className=\"text-4xl\"></span>\r\n                          </div>\r\n                          <div>\r\n                            <h2 className=\"text-2xl font-bold text-foreground\">\r\n                              {selectedCharacter.name}\r\n                            </h2>\r\n                            <div className=\"flex flex-wrap gap-2 mt-2\">\r\n                              <span className=\"px-2 py-1 rounded-lg bg-violet-500/20 text-violet-400 text-xs font-medium\">\r\n                                {selectedCharacter.gender}\r\n                              </span>\r\n                              <span className=\"px-2 py-1 rounded-lg bg-blue-500/20 text-blue-400 text-xs font-medium\">\r\n                                {selectedCharacter.age}\r\n                              </span>\r\n                              <span className=\"px-2 py-1 rounded-lg bg-emerald-500/20 text-emerald-400 text-xs font-medium\">\r\n                                {selectedCharacter.relationship}\r\n                              </span>\r\n                            </div>\r\n                            <p className=\"text-sm text-muted-foreground mt-2\">\r\n                              {selectedCharacter.setting}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Actions */}\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <button\r\n                            onClick={() => toggleFavorite(selectedCharacter.id)}\r\n                            className={`p-2 rounded-lg transition-colors ${\r\n                              favorites.has(selectedCharacter.id)\r\n                                ? \"bg-pink-500/20 text-pink-400\"\r\n                                : \"glass text-muted-foreground hover:text-pink-400\"\r\n                            }`}\r\n                          >\r\n                            <Heart className={`w-5 h-5 ${favorites.has(selectedCharacter.id) ? \"fill-current\" : \"\"}`} />\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleExportCharacter(selectedCharacter)}\r\n                            className=\"p-2 rounded-lg glass text-muted-foreground hover:text-violet-400 transition-colors\"\r\n                          >\r\n                            <Download className=\"w-5 h-5\" />\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Quick Copy Buttons */}\r\n                      <div className=\"flex gap-2 mt-4\">\r\n                        {selectedCharacter.generated_personality && (\r\n                          <button\r\n                            onClick={() => handleCopy(selectedCharacter.generated_personality!, \"personality\")}\r\n                            className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 transition-colors text-sm\"\r\n                          >\r\n                            {copied === \"personality\" ? (\r\n                              <Check className=\"w-4 h-4 text-emerald-400\" />\r\n                            ) : (\r\n                              <Copy className=\"w-4 h-4 text-muted-foreground\" />\r\n                            )}\r\n                            <span className=\"text-muted-foreground\">Copy Personality</span>\r\n                          </button>\r\n                        )}\r\n                        {selectedCharacter.generated_scenario && (\r\n                          <button\r\n                            onClick={() => handleCopy(selectedCharacter.generated_scenario!, \"scenario\")}\r\n                            className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 transition-colors text-sm\"\r\n                          >\r\n                            {copied === \"scenario\" ? (\r\n                              <Check className=\"w-4 h-4 text-emerald-400\" />\r\n                            ) : (\r\n                              <Copy className=\"w-4 h-4 text-muted-foreground\" />\r\n                            )}\r\n                            <span className=\"text-muted-foreground\">Copy Scenario</span>\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Personality Section */}\r\n                    {selectedCharacter.generated_personality && (\r\n                      <TerminalOutput\r\n                        title=\"Personality\"\r\n                        content={selectedCharacter.generated_personality}\r\n                      />\r\n                    )}\r\n\r\n                    {/* Scenario & Greeting Section */}\r\n                    {selectedCharacter.generated_scenario && (\r\n                      <TerminalOutput\r\n                        title=\"Scenario & Greeting\"\r\n                        content={selectedCharacter.generated_scenario}\r\n                      />\r\n                    )}\r\n\r\n                    {/* Personality Traits */}\r\n                    <div className=\"glass rounded-2xl p-6 border border-border\">\r\n                      <h3 className=\"text-lg font-semibold text-foreground mb-4\">\r\n                        Personality Traits\r\n                      </h3>\r\n                      <div className=\"grid grid-cols-2 gap-4\">\r\n                        <TraitBar\r\n                          label=\"Warmth\"\r\n                          value={selectedCharacter.personality_warmth}\r\n                          leftLabel=\"Warm\"\r\n                          rightLabel=\"Cold\"\r\n                          color=\"from-orange-500 to-red-500\"\r\n                        />\r\n                        <TraitBar\r\n                          label=\"Confidence\"\r\n                          value={selectedCharacter.personality_confidence}\r\n                          leftLabel=\"Shy\"\r\n                          rightLabel=\"Confident\"\r\n                          color=\"from-blue-500 to-cyan-500\"\r\n                        />\r\n                        <TraitBar\r\n                          label=\"Calmness\"\r\n                          value={selectedCharacter.personality_calmness}\r\n                          leftLabel=\"Calm\"\r\n                          rightLabel=\"Chaotic\"\r\n                          color=\"from-emerald-500 to-green-500\"\r\n                        />\r\n                        <TraitBar\r\n                          label=\"Reserve\"\r\n                          value={selectedCharacter.personality_reserve}\r\n                          leftLabel=\"Emotional\"\r\n                          rightLabel=\"Reserved\"\r\n                          color=\"from-violet-500 to-purple-500\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </motion.div>\r\n                ) : (\r\n                  <motion.div\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    className=\"glass rounded-3xl p-12 border border-border text-center h-full flex flex-col items-center justify-center min-h-[400px]\"\r\n                  >\r\n                    <div className=\"w-20 h-20 rounded-2xl bg-gradient-to-br from-violet-500/10 to-blue-500/10 flex items-center justify-center mb-6\">\r\n                      <Eye className=\"w-10 h-10 text-muted-foreground\" />\r\n                    </div>\r\n                    <h3 className=\"text-xl font-semibold text-foreground mb-2\">\r\n                      Select a character\r\n                    </h3>\r\n                    <p className=\"text-muted-foreground max-w-sm\">\r\n                      Click on any character from the list to view their full details, personality, and generated content\r\n                    </p>\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction TraitBar({\r\n  label,\r\n  value,\r\n  leftLabel,\r\n  rightLabel,\r\n  color = \"from-violet-500 to-blue-500\",\r\n}: {\r\n  label: string;\r\n  value: number;\r\n  leftLabel: string;\r\n  rightLabel: string;\r\n  color?: string;\r\n}) {\r\n  return (\r\n    <div className=\"space-y-2\">\r\n      <div className=\"flex items-center justify-between text-xs\">\r\n        <span className=\"text-muted-foreground\">{leftLabel}</span>\r\n        <span className=\"text-violet-400 font-medium\">{label} ({value}%)</span>\r\n        <span className=\"text-muted-foreground\">{rightLabel}</span>\r\n      </div>\r\n      <div className=\"h-2 bg-white/5 rounded-full overflow-hidden\">\r\n        <motion.div\r\n          initial={{ width: 0 }}\r\n          animate={{ width: `${value}%` }}\r\n          transition={{ duration: 0.5, ease: \"easeOut\" }}\r\n          className={`h-full bg-gradient-to-r ${color} rounded-full`}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}